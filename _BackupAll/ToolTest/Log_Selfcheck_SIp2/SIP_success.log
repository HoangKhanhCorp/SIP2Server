2020-02-28 15:23:25,904 INFO    [primary] SipLogger - ***** SIP Start *****
2020-02-28 15:23:25,943 DEBUG   [primary] PatronDetailParser - LoanItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:23:25,944 DEBUG   [primary] PatronDetailParser - OverdueItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:23:25,944 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(opt:@(itemId))%@(opt:@(pickupId))%@(any)%@(opt:@(pickupDate))%@(opt:@(pickupLocation))%@(opt:@(title))%@(any) => ^\s*(((?!["']\s*)(?<ItemId>.*?)\s*\s*)?\s*%\s*((?!["']\s*)(?<PickupId>.*?)\s*\s*)?\s*%\s*.*?\s*%\s*((?!["']\s*)(?<PickupDate>.*?)\s*\s*)?\s*%\s*((?<PickupLocation>.*?)\s*\s*)?\s*%\s*((?<Title>.*?)\s*\s*)?\s*%\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,944 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,944 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(itemId)@@ @(optional:'@(title)') => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:23:25,945 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,945 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(itemId) @(optional:'@(title)') => ^\s*((?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:23:25,945 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(quotable:@(title)) => ^\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)\s*$
2020-02-28 15:23:25,948 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: Charge no: @(chargeId), Due: @(amount), @(any), Type: @(chargeCode), @(any), Title: @(title) => ^\s*(\s*Charge\s*\s*\s*no:\s*\s*(?!["']\s*)(?<ChargeId>.*?)\s*,\s*\s*\s*Due:\s*\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Type:\s*\s*(?!["']\s*)(?<ChargeCode>.*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Title:\s*\s*(?<Title>.*?)\s*\s*)\s*$
2020-02-28 15:23:25,949 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(itemId) '@(title)' @(amount) @(quotable:@(chargeCode)) @(any) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*(?<quote>["'])(?<Title>.*?)\k<quote>\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,949 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(itemId)) @(quotable:@(chargeId)) @(amount) @(quotable:@(chargeCode)) @(optional:@(quotable:@(title))) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,950 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(chargeId)) @(amount) '@(description)' @(quotable:@(chargeCode)) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?<Description>.*?)\k<quote>\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,950 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(chargeid) @(amount) @(optional:@(quotable:@(chargetype))) @(any) => ^\s*((?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:23:25,950 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) '@(chargeCode)' @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:23:25,950 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:23:25,951 DEBUG   [primary] PatronDetailParser - StructuredChargeItemParsingExpressions: @(optional:@(quotable:@(chargeId))@@) @(optional:, @(optional:@(quotable:@(amount))@@) @(optional:, @(optional:@(quotable:@(chargeCode))@@) @(optional:, @(optional:@(quotable:@(itemId))@@) @(optional:, @(optional:@(quotable:@(title))@@) @(optional:, @(optional:@(quotable:@(description)))))))) => ^\s*((((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\k<quote>|((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)\s*$
2020-02-28 15:23:25,993 INFO    [primary] SipCirculationProvider - Using transport provider: MMM.LibrarySystems.Circulation.Transports.TcpTransportProvider; with address: 192.168.11.5:6001
2020-02-28 15:23:27,408 INFO    [primary] App - Assembly: PresentationFramework-SystemXml, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:23:28,430 INFO    [primary] App - Assembly: PresentationFramework-SystemData, 4.7.3580.0; assembly=4.0.0.0
2020-02-28 15:23:28,582 INFO    [13] TcpTransportProvider - TCP: Opening connection to: 192.168.11.5:6001
2020-02-28 15:23:28,610 INFO    [15] App - Assembly: System.ServiceModel.Channels, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:23:28,660 INFO    [28] App - Assembly: ReachFramework, 4.7.3570.0 built by: NET472REL1LAST_B; assembly=4.0.0.0
2020-02-28 15:23:28,660 INFO    [15] App - Assembly: System.IdentityModel, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:23:28,660 INFO    [ 3] App - Assembly: System.Linq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:23:28,669 INFO    [32] SipCirculationProvider - Opened SIP circulation provider with address: 192.168.11.5:6001
2020-02-28 15:23:28,731 INFO    [32] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:23:28,824 INFO    [20] App - Assembly: System.Numerics, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:23:28,857 INFO    [20] App - Assembly: System.Data.OracleClient, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:23:28,961 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {UnitIsOk}, max print width = 30, protocol version = "2.00", sequence number = 1}
2020-02-28 15:23:29,013 TRACE   [SIP] MessageFormatter - Formatted: 9900302.00AY1AZFCA5\r
2020-02-28 15:23:29,027 TRACE   [SIP] TcpTransportProvider - TCP: writing (119971.9246 ms timeout): 39 39 30 30 33 30 32 2E 30 30 41 59 31 41 5A 46 43 41 35 0D
2020-02-28 15:23:29,057 TRACE   [13] TcpTransportProvider - TCP: 20 bytes written; 31.5786 ms elapsed
2020-02-28 15:23:29,077 TRACE   [29] TcpTransportProvider - TCP: 80 bytes read; 4.5121 ms elapsed
2020-02-28 15:23:29,078 TRACE   [29] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 33 31 39 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 31 41 5A 45 42 35 38 0D 0A
2020-02-28 15:23:29,085 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001523192.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY1AZEB58
2020-02-28 15:23:29,118 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:23:19 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:23:29,147 DEBUG   [16] MessageProcessor - Duration of operation: 250 ms
2020-02-28 15:23:29,223 INFO    [16] SipCirculationProvider - Institution ID changed to: ""
2020-02-28 15:23:29,224 INFO    [16] SipCirculationProvider - Library name changed to: ""
2020-02-28 15:23:29,224 INFO    [16] SipCirculationProvider - Terminal location changed to: ""
2020-02-28 15:23:29,224 INFO    [16] SipCirculationProvider - Permission flags changed to: CheckInAllowed, CheckOutAllowed, RenewalAllowed, PatronStatusUpdateAllowed
2020-02-28 15:23:32,378 INFO    [primary] App - Assembly: PresentationFramework-SystemXmlLinq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:23:34,179 DEBUG   [primary] App - Startup duration = 25.3s
2020-02-28 15:23:35,631 INFO    [primary] App - Exiting
2020-02-28 15:23:35,685 INFO    [15] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:23:35,686 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {ShuttingDown}, max print width = 30, protocol version = "2.00", sequence number = 2}
2020-02-28 15:23:35,687 TRACE   [SIP] MessageFormatter - Formatted: 9920302.00AY2AZFCA2\r
2020-02-28 15:23:35,687 TRACE   [SIP] TcpTransportProvider - TCP: writing (120000 ms timeout): 39 39 32 30 33 30 32 2E 30 30 41 59 32 41 5A 46 43 41 32 0D
2020-02-28 15:23:35,687 TRACE   [30] TcpTransportProvider - TCP: 20 bytes written; 0 ms elapsed
2020-02-28 15:23:35,687 TRACE   [SIP] MessageFormatter - Additional data is required to parse message: \n
2020-02-28 15:23:35,688 TRACE   [ 3] TcpTransportProvider - TCP: 80 bytes read; 0 ms elapsed
2020-02-28 15:23:35,689 TRACE   [ 3] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 33 32 35 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 32 41 5A 45 42 35 41 0D 0A
2020-02-28 15:23:35,689 TRACE   [SIP] MessageFormatter - Skipping 1 extra character(s) in data: \n
2020-02-28 15:23:35,690 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001523252.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY2AZEB5A
2020-02-28 15:23:35,691 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:23:25 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:23:35,691 DEBUG   [54] MessageProcessor - Duration of operation: 5 ms
2020-02-28 15:23:35,703 INFO    [54] SipCirculationProvider - Closed SIP circulation provider from address: 192.168.11.5:6001
2020-02-28 15:23:36,634 INFO    [primary] App - End
=====================================================

2020-02-28 15:24:35,086 INFO    [primary] SipLogger - ***** SIP Start *****
2020-02-28 15:24:35,118 DEBUG   [primary] PatronDetailParser - LoanItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:24:35,119 DEBUG   [primary] PatronDetailParser - OverdueItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:24:35,119 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(opt:@(itemId))%@(opt:@(pickupId))%@(any)%@(opt:@(pickupDate))%@(opt:@(pickupLocation))%@(opt:@(title))%@(any) => ^\s*(((?!["']\s*)(?<ItemId>.*?)\s*\s*)?\s*%\s*((?!["']\s*)(?<PickupId>.*?)\s*\s*)?\s*%\s*.*?\s*%\s*((?!["']\s*)(?<PickupDate>.*?)\s*\s*)?\s*%\s*((?<PickupLocation>.*?)\s*\s*)?\s*%\s*((?<Title>.*?)\s*\s*)?\s*%\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,120 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,122 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(itemId)@@ @(optional:'@(title)') => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:24:35,124 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,125 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(itemId) @(optional:'@(title)') => ^\s*((?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:24:35,125 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(quotable:@(title)) => ^\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)\s*$
2020-02-28 15:24:35,125 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: Charge no: @(chargeId), Due: @(amount), @(any), Type: @(chargeCode), @(any), Title: @(title) => ^\s*(\s*Charge\s*\s*\s*no:\s*\s*(?!["']\s*)(?<ChargeId>.*?)\s*,\s*\s*\s*Due:\s*\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Type:\s*\s*(?!["']\s*)(?<ChargeCode>.*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Title:\s*\s*(?<Title>.*?)\s*\s*)\s*$
2020-02-28 15:24:35,126 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(itemId) '@(title)' @(amount) @(quotable:@(chargeCode)) @(any) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*(?<quote>["'])(?<Title>.*?)\k<quote>\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,126 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(itemId)) @(quotable:@(chargeId)) @(amount) @(quotable:@(chargeCode)) @(optional:@(quotable:@(title))) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,127 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(chargeId)) @(amount) '@(description)' @(quotable:@(chargeCode)) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?<Description>.*?)\k<quote>\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,127 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(chargeid) @(amount) @(optional:@(quotable:@(chargetype))) @(any) => ^\s*((?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:24:35,127 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) '@(chargeCode)' @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:24:35,127 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:24:35,128 DEBUG   [primary] PatronDetailParser - StructuredChargeItemParsingExpressions: @(optional:@(quotable:@(chargeId))@@) @(optional:, @(optional:@(quotable:@(amount))@@) @(optional:, @(optional:@(quotable:@(chargeCode))@@) @(optional:, @(optional:@(quotable:@(itemId))@@) @(optional:, @(optional:@(quotable:@(title))@@) @(optional:, @(optional:@(quotable:@(description)))))))) => ^\s*((((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\k<quote>|((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)\s*$
2020-02-28 15:24:35,163 INFO    [primary] SipCirculationProvider - Using transport provider: MMM.LibrarySystems.Circulation.Transports.TcpTransportProvider; with address: 192.168.11.5:6001
2020-02-28 15:24:36,553 INFO    [primary] App - Assembly: PresentationFramework-SystemXml, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:24:37,558 INFO    [primary] App - Assembly: PresentationFramework-SystemData, 4.7.3580.0; assembly=4.0.0.0
2020-02-28 15:24:37,617 INFO    [ 5] App - Assembly: System.Linq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:24:37,648 INFO    [ 7] App - Assembly: System.ServiceModel.Channels, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:24:37,673 INFO    [ 7] App - Assembly: System.IdentityModel, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:24:37,678 INFO    [ 5] TcpTransportProvider - TCP: Opening connection to: 192.168.11.5:6001
2020-02-28 15:24:37,699 INFO    [23] SipCirculationProvider - Opened SIP circulation provider with address: 192.168.11.5:6001
2020-02-28 15:24:37,774 INFO    [26] App - Assembly: ReachFramework, 4.7.3570.0 built by: NET472REL1LAST_B; assembly=4.0.0.0
2020-02-28 15:24:37,802 INFO    [23] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:24:38,027 INFO    [ 8] App - Assembly: System.Numerics, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:24:38,027 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {UnitIsOk}, max print width = 30, protocol version = "2.00", sequence number = 1}
2020-02-28 15:24:38,030 INFO    [ 8] App - Assembly: System.Data.OracleClient, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:24:38,058 TRACE   [SIP] MessageFormatter - Formatted: 9900302.00AY1AZFCA5\r
2020-02-28 15:24:38,068 TRACE   [SIP] TcpTransportProvider - TCP: writing (119962.3997 ms timeout): 39 39 30 30 33 30 32 2E 30 30 41 59 31 41 5A 46 43 41 35 0D
2020-02-28 15:24:38,089 TRACE   [27] TcpTransportProvider - TCP: 20 bytes written; 23.5629 ms elapsed
2020-02-28 15:24:38,120 TRACE   [ 3] TcpTransportProvider - TCP: 80 bytes read; 23.0609 ms elapsed
2020-02-28 15:24:38,121 TRACE   [ 3] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 34 32 38 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 31 41 5A 45 42 35 37 0D 0A
2020-02-28 15:24:38,127 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001524282.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY1AZEB57
2020-02-28 15:24:38,152 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:24:28 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:24:38,193 DEBUG   [28] MessageProcessor - Duration of operation: 248 ms
2020-02-28 15:24:38,298 INFO    [28] SipCirculationProvider - Institution ID changed to: ""
2020-02-28 15:24:38,298 INFO    [28] SipCirculationProvider - Library name changed to: ""
2020-02-28 15:24:38,298 INFO    [28] SipCirculationProvider - Terminal location changed to: ""
2020-02-28 15:24:38,298 INFO    [28] SipCirculationProvider - Permission flags changed to: CheckInAllowed, CheckOutAllowed, RenewalAllowed, PatronStatusUpdateAllowed
2020-02-28 15:24:43,187 INFO    [primary] App - Assembly: PresentationFramework-SystemXmlLinq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:24:43,408 DEBUG   [primary] App - Startup duration = 15.9s
2020-02-28 15:24:44,689 INFO    [primary] App - Exiting
2020-02-28 15:24:44,722 INFO    [28] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:24:44,724 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {ShuttingDown}, max print width = 30, protocol version = "2.00", sequence number = 2}
2020-02-28 15:24:44,724 TRACE   [SIP] MessageFormatter - Formatted: 9920302.00AY2AZFCA2\r
2020-02-28 15:24:44,724 TRACE   [SIP] TcpTransportProvider - TCP: writing (120000 ms timeout): 39 39 32 30 33 30 32 2E 30 30 41 59 32 41 5A 46 43 41 32 0D
2020-02-28 15:24:44,725 TRACE   [27] TcpTransportProvider - TCP: 20 bytes written; 0 ms elapsed
2020-02-28 15:24:44,725 TRACE   [SIP] MessageFormatter - Additional data is required to parse message: \n
2020-02-28 15:24:44,726 TRACE   [27] TcpTransportProvider - TCP: 80 bytes read; 1.0028 ms elapsed
2020-02-28 15:24:44,726 TRACE   [27] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 34 33 34 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 32 41 5A 45 42 35 39 0D 0A
2020-02-28 15:24:44,726 TRACE   [SIP] MessageFormatter - Skipping 1 extra character(s) in data: \n
2020-02-28 15:24:44,726 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001524342.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY2AZEB59
2020-02-28 15:24:44,727 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:24:34 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:24:44,770 DEBUG   [26] MessageProcessor - Duration of operation: 46 ms
2020-02-28 15:24:44,779 INFO    [26] SipCirculationProvider - Closed SIP circulation provider from address: 192.168.11.5:6001
2020-02-28 15:24:45,577 INFO    [primary] App - End
=======chinh

2020-02-28 15:25:53,180 INFO    [primary] SipLogger - ***** SIP Start *****
2020-02-28 15:25:53,215 DEBUG   [primary] PatronDetailParser - LoanItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:25:53,215 DEBUG   [primary] PatronDetailParser - OverdueItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:25:53,215 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(opt:@(itemId))%@(opt:@(pickupId))%@(any)%@(opt:@(pickupDate))%@(opt:@(pickupLocation))%@(opt:@(title))%@(any) => ^\s*(((?!["']\s*)(?<ItemId>.*?)\s*\s*)?\s*%\s*((?!["']\s*)(?<PickupId>.*?)\s*\s*)?\s*%\s*.*?\s*%\s*((?!["']\s*)(?<PickupDate>.*?)\s*\s*)?\s*%\s*((?<PickupLocation>.*?)\s*\s*)?\s*%\s*((?<Title>.*?)\s*\s*)?\s*%\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,215 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,216 DEBUG   [primary] PatronDetailParser - HoldItemParsingExpressions: @(itemId)@@ @(optional:'@(title)') => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:25:53,216 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,216 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(itemId) @(optional:'@(title)') => ^\s*((?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:25:53,216 DEBUG   [primary] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(quotable:@(title)) => ^\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)\s*$
2020-02-28 15:25:53,216 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: Charge no: @(chargeId), Due: @(amount), @(any), Type: @(chargeCode), @(any), Title: @(title) => ^\s*(\s*Charge\s*\s*\s*no:\s*\s*(?!["']\s*)(?<ChargeId>.*?)\s*,\s*\s*\s*Due:\s*\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Type:\s*\s*(?!["']\s*)(?<ChargeCode>.*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Title:\s*\s*(?<Title>.*?)\s*\s*)\s*$
2020-02-28 15:25:53,217 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(itemId) '@(title)' @(amount) @(quotable:@(chargeCode)) @(any) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*(?<quote>["'])(?<Title>.*?)\k<quote>\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,217 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(itemId)) @(quotable:@(chargeId)) @(amount) @(quotable:@(chargeCode)) @(optional:@(quotable:@(title))) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,217 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(chargeId)) @(amount) '@(description)' @(quotable:@(chargeCode)) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?<Description>.*?)\k<quote>\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,217 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(chargeid) @(amount) @(optional:@(quotable:@(chargetype))) @(any) => ^\s*((?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:25:53,218 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) '@(chargeCode)' @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:25:53,218 DEBUG   [primary] PatronDetailParser - ChargeItemParsingExpressions: @(amount) @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:25:53,219 DEBUG   [primary] PatronDetailParser - StructuredChargeItemParsingExpressions: @(optional:@(quotable:@(chargeId))@@) @(optional:, @(optional:@(quotable:@(amount))@@) @(optional:, @(optional:@(quotable:@(chargeCode))@@) @(optional:, @(optional:@(quotable:@(itemId))@@) @(optional:, @(optional:@(quotable:@(title))@@) @(optional:, @(optional:@(quotable:@(description)))))))) => ^\s*((((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\k<quote>|((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)\s*$
2020-02-28 15:25:53,269 INFO    [primary] SipCirculationProvider - Using transport provider: MMM.LibrarySystems.Circulation.Transports.TcpTransportProvider; with address: 192.168.11.5:6001
2020-02-28 15:25:54,738 INFO    [primary] App - Assembly: PresentationFramework-SystemXml, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:25:55,839 INFO    [primary] App - Assembly: PresentationFramework-SystemData, 4.7.3580.0; assembly=4.0.0.0
2020-02-28 15:25:55,910 INFO    [23] App - Assembly: System.Linq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:25:55,999 INFO    [22] TcpTransportProvider - TCP: Opening connection to: 192.168.11.5:6001
2020-02-28 15:25:55,931 INFO    [ 3] App - Assembly: ReachFramework, 4.7.3570.0 built by: NET472REL1LAST_B; assembly=4.0.0.0
2020-02-28 15:25:55,964 INFO    [ 5] App - Assembly: System.ServiceModel.Channels, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:25:56,021 INFO    [ 5] App - Assembly: System.IdentityModel, 4.7.3580.0 built by: NET472REL1LAST_C; assembly=4.0.0.0
2020-02-28 15:25:56,286 INFO    [21] App - Assembly: System.Numerics, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:25:56,302 INFO    [21] App - Assembly: System.Data.OracleClient, 4.6.1586.0 built by: NETFXREL2; assembly=4.0.0.0
2020-02-28 15:25:58,493 INFO    [13] SipCirculationProvider - Opened SIP circulation provider with address: 192.168.11.5:6001
2020-02-28 15:25:58,571 INFO    [13] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:25:58,872 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {UnitIsOk}, max print width = 30, protocol version = "2.00", sequence number = 1}
2020-02-28 15:25:58,930 TRACE   [SIP] MessageFormatter - Formatted: 9900302.00AY1AZFCA5\r
2020-02-28 15:25:58,941 TRACE   [SIP] TcpTransportProvider - TCP: writing (119954.8738 ms timeout): 39 39 30 30 33 30 32 2E 30 30 41 59 31 41 5A 46 43 41 35 0D
2020-02-28 15:25:58,966 TRACE   [26] TcpTransportProvider - TCP: 20 bytes written; 27.0719 ms elapsed
2020-02-28 15:25:58,974 TRACE   [ 3] TcpTransportProvider - TCP: 80 bytes read; 2.0057 ms elapsed
2020-02-28 15:25:58,976 TRACE   [ 3] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 35 34 39 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 31 41 5A 45 42 35 33 0D 0A
2020-02-28 15:25:58,993 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001525492.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY1AZEB53
2020-02-28 15:25:59,021 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:25:49 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:25:59,056 DEBUG   [22] MessageProcessor - Duration of operation: 284 ms
2020-02-28 15:25:59,190 INFO    [22] SipCirculationProvider - Institution ID changed to: ""
2020-02-28 15:25:59,190 INFO    [22] SipCirculationProvider - Library name changed to: ""
2020-02-28 15:25:59,190 INFO    [22] SipCirculationProvider - Terminal location changed to: ""
2020-02-28 15:25:59,190 INFO    [22] SipCirculationProvider - Permission flags changed to: CheckInAllowed, CheckOutAllowed, RenewalAllowed, PatronStatusUpdateAllowed
2020-02-28 15:26:01,700 DEBUG   [primary] App - Startup duration = 16.7s
2020-02-28 15:26:01,894 INFO    [primary] App - Assembly: PresentationFramework-SystemXmlLinq, 4.6.1586.0; assembly=4.0.0.0
2020-02-28 15:26:03,114 INFO    [primary] App - Exiting
2020-02-28 15:26:03,159 INFO    [13] SipCirculationProvider - Processing request MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateRequest and response MMM.LibrarySystems.Circulation.SIP.Messages.StatusUpdateResponse
2020-02-28 15:26:03,243 INFO    [SIP] MessageFormatter - Formatting: [99] SC Status {status code = {ShuttingDown}, max print width = 30, protocol version = "2.00", sequence number = 2}
2020-02-28 15:26:03,243 TRACE   [SIP] MessageFormatter - Formatted: 9920302.00AY2AZFCA2\r
2020-02-28 15:26:03,243 TRACE   [SIP] TcpTransportProvider - TCP: writing (120000 ms timeout): 39 39 32 30 33 30 32 2E 30 30 41 59 32 41 5A 46 43 41 32 0D
2020-02-28 15:26:03,388 TRACE   [22] TcpTransportProvider - TCP: 20 bytes written; 144.389 ms elapsed
2020-02-28 15:26:03,388 TRACE   [SIP] MessageFormatter - Additional data is required to parse message: \n
2020-02-28 15:26:03,392 TRACE   [ 5] TcpTransportProvider - TCP: 80 bytes read; 4.0114 ms elapsed
2020-02-28 15:26:03,392 TRACE   [ 5] TcpTransportProvider - TCP: read: 39 38 59 59 59 59 59 4E 33 30 30 30 30 35 32 30 32 30 30 32 32 38 30 37 30 30 31 35 32 35 35 33 32 2E 30 30 41 4F 7C 41 4D 7C 42 58 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 59 7C 41 4E 7C 41 46 7C 41 47 41 59 32 41 5A 45 42 35 37 0D 0A
2020-02-28 15:26:03,392 TRACE   [SIP] MessageFormatter - Skipping 1 extra character(s) in data: \n
2020-02-28 15:26:03,393 TRACE   [SIP] MessageFormatter - Parsing: 98YYYYYN3000052020022807001525532.00AO|AM|BXYYYYYYYYYYYYYYYY|AN|AF|AGAY2AZEB57
2020-02-28 15:26:03,394 INFO    [SIP] MessageFormatter - Parsed: [98] ACS Status {on-line status = True, checkin ok = True, checkout ok = True, ACS renewal policy = True, status update ok = True, off-line ok = False, timeout period = 300, retries allowed = 5, date time sync = {2/28/2020 3:25:53 PM}, protocol version = "2.00", institution id = "", library name = "", supported messages = {All}, terminal location = "", screen message = ""}
2020-02-28 15:26:03,512 DEBUG   [ 3] MessageProcessor - Duration of operation: 352 ms
2020-02-28 15:26:03,519 INFO    [ 3] SipCirculationProvider - Closed SIP circulation provider from address: 192.168.11.5:6001
2020-02-28 15:26:03,698 INFO    [primary] App - End
2020-02-28 15:26:17,278 INFO    [ 1] SipLogger - ***** SIP Start *****
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - LoanItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - OverdueItemParsingExpressions: @(itemId) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - HoldItemParsingExpressions: @(opt:@(itemId))%@(opt:@(pickupId))%@(any)%@(opt:@(pickupDate))%@(opt:@(pickupLocation))%@(opt:@(title))%@(any) => ^\s*(((?!["']\s*)(?<ItemId>.*?)\s*\s*)?\s*%\s*((?!["']\s*)(?<PickupId>.*?)\s*\s*)?\s*%\s*.*?\s*%\s*((?!["']\s*)(?<PickupDate>.*?)\s*\s*)?\s*%\s*((?<PickupLocation>.*?)\s*\s*)?\s*%\s*((?<Title>.*?)\s*\s*)?\s*%\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - HoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - HoldItemParsingExpressions: @(itemId)@@ @(optional:'@(title)') => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - UnavailableHoldItemParsingExpressions: '@(title)' @(itemId) @(any) => ^\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(itemId) @(optional:'@(title)') => ^\s*((?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?<Title>.*?)\k<quote>\s*\s*)?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - UnavailableHoldItemParsingExpressions: @(quotable:@(title)) => ^\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: Charge no: @(chargeId), Due: @(amount), @(any), Type: @(chargeCode), @(any), Title: @(title) => ^\s*(\s*Charge\s*\s*\s*no:\s*\s*(?!["']\s*)(?<ChargeId>.*?)\s*,\s*\s*\s*Due:\s*\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Type:\s*\s*(?!["']\s*)(?<ChargeCode>.*?)\s*,\s*\s*.*?\s*,\s*\s*\s*Title:\s*\s*(?<Title>.*?)\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(itemId) '@(title)' @(amount) @(quotable:@(chargeCode)) @(any) => ^\s*((?!["']\s*)(?<ItemId>.*?)\s*(?<quote>["'])(?<Title>.*?)\k<quote>\s*([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(itemId)) @(quotable:@(chargeId)) @(amount) @(quotable:@(chargeCode)) @(optional:@(quotable:@(title))) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(quotable:@(chargeId)) @(amount) '@(description)' @(quotable:@(chargeCode)) @(any) => ^\s*(((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*\s*)\s*\s*\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?<Description>.*?)\k<quote>\s*((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(chargeid) @(amount) @(optional:@(quotable:@(chargetype))) @(any) => ^\s*((?-i)(?<ChargeId>(?>[0-9A-Za-z_\.\-]+)(\x20+([0-9][0-9A-Za-z_]*|[A-Z]+)(?![0-9A-Za-z_/\.\-]))*)(?=\s|\z|[^0-9A-Za-z])\s*((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*)\s*\s*)\s*\s*\s*\s*)?\s*.*?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(amount) '@(chargeCode)' @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*(?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:26:17,341 DEBUG   [ 1] PatronDetailParser - ChargeItemParsingExpressions: @(amount) @(optional:@(quotable:@(description))) => ^\s*(([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*)))(\s*\p{Sc})?)(?=\s|\z|[^0-9A-Za-z])\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)\s*$
2020-02-28 15:26:17,356 DEBUG   [ 1] PatronDetailParser - StructuredChargeItemParsingExpressions: @(optional:@(quotable:@(chargeId))@@) @(optional:, @(optional:@(quotable:@(amount))@@) @(optional:, @(optional:@(quotable:@(chargeCode))@@) @(optional:, @(optional:@(quotable:@(itemId))@@) @(optional:, @(optional:@(quotable:@(title))@@) @(optional:, @(optional:@(quotable:@(description)))))))) => ^\s*((((?<quote>["'])(?!["']\s*)(?<ChargeId>.*?)\k<quote>|(?-i)(?<ChargeId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])([^\d\-\.\,]*(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\k<quote>|((\p{Sc}\s*)?(?<Amount>(?>\-?(\d+[\.\,]?\d*|[\.\,]\d*))).*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ChargeCode>.*?)\k<quote>|(?<ChargeCode>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?!["']\s*)(?<ItemId>.*?)\k<quote>|(?-i)(?<ItemId>[0-9A-Za-z_\.\-].*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Title>.*?)\k<quote>|(?<Title>\w.*?)\s*\s*)\s*\s*\s*\s*)?\s*(\s*,\s*\s*(((?<quote>["'])(?<Description>.*?)\k<quote>|(?<Description>\S.*?)\s*\s*)\s*\s*\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)?\s*\s*)\s*$
